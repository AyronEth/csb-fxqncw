(this["webpackJsonpeth-signer"]=this["webpackJsonpeth-signer"]||[]).push([[0],{88:function(e,t){},98:function(e,t,r){"use strict";r.r(t);var s=r(11),n=r(56),a=r.n(n),c=r(20),i=r(17),u=r(8),o=r(0),l=r.n(o),d=r(73),b=r(72),j=r(18);function p(e){var t=e.message;return t?Object(j.jsx)("div",{className:"alert alert-error",children:Object(j.jsxs)("div",{className:"flex-1",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-6 h-6 mx-2 stroke-current",children:Object(j.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),Object(j.jsx)("label",{children:t})]})}):null}var h=r(57),f=r(33),m=Object(h.a)({apiKey:"AIzaSyDEE55Nf4CiqH0sAnozGEnIsWShSsmKaUg",authDomain:"discord-wallet-auth.firebaseapp.com",projectId:"discord-wallet-auth",storageBucket:"discord-wallet-auth.appspot.com",messagingSenderId:"21899065217",appId:"1:21899065217:web:108b941a3ff3001aed5a80",measurementId:"G-B1NXSG2T8R"}),x=Object(f.c)(m),w="Pending_Entries";function O(e,t){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(Object(f.a)(x,w,t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(Object(f.a)(x,w,t));case 2:if(!(r=e.sent).exists()){e.next=5;break}return e.abrupt("return",r.data().address);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,s,n,a,c,i,u,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.setError,s=t.userid,n=t.message,e.prev=1,console.log({message:n}),window.ethereum){e.next=5;break}throw new Error("No crypto wallet found. Please install it.");case 5:return e.next=7,window.ethereum.send("eth_requestAccounts");case 7:return a=new b.a.providers.Web3Provider(window.ethereum),c=a.getSigner(),e.next=11,c.signMessage(n);case 11:return i=e.sent,e.next=14,c.getAddress();case 14:return u=e.sent,o={message:n,signature:i,address:u},e.next=18,O(s,o);case 18:return e.abrupt("return",o);case 21:e.prev=21,e.t0=e.catch(1),r(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();function k(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(),o=Object(i.a)(a,2),b=o[0],h=o[1],f=Object(s.useState)(),m=Object(i.a)(f,2),x=m[0],w=m[1],O=Object(s.useState)(),g=Object(i.a)(O,2),y=g[0],k=g[1],S=Object(d.a)(),I=Object(i.a)(S,2),A=I[0],E=(I[1],function(){var e=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(),e.next=4,N({setError:h,userId:y,message:"Associate wallet to discord"});case 4:(s=e.sent)&&n([].concat(Object(c.a)(r),[s]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(s.useEffect)(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.has("discord_id")?k(A.get("discord_id")):h("Invalid url path."),e.next=3,v(y);case 3:(t=e.sent)&&w(t);case 5:case"end":return e.stop()}}),e)})))),Object(j.jsxs)("form",{className:"m-4",onSubmit:E,children:["if(this.discordId != null)",Object(j.jsxs)("div",{className:"credit-card w-full shadow-lg mx-auto rounded-xl bg-white",children:[Object(j.jsxs)("main",{className:"mt-4 p-4",children:[Object(j.jsxs)("h1",{className:"text-xl font-semibold text-gray-700",children:["Discord Id: ",y]}),Object(j.jsxs)("h1",{className:"text-xl font-semibold text-gray-700",children:["Associated wallet: ",x]})]}),Object(j.jsx)("footer",{className:"p-4",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary submit-button focus:ring focus:outline-none w-full",children:"Associate Wallet"})})]}),Object(j.jsx)(p,{message:b})]})}function S(){return Object(j.jsx)("div",{className:"flex h-screen justify-center items-center",children:Object(j.jsx)("div",{className:"w-full lg:w-1/2",children:Object(j.jsx)(k,{})})})}var I=document.getElementById("root");a.a.render(Object(j.jsx)(s.StrictMode,{children:Object(j.jsx)(S,{})}),I)}},[[98,1,2]]]);
//# sourceMappingURL=main.225274a6.chunk.js.map